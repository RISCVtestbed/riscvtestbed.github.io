<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Getting started | ExCALIBUR H&amp;ES RISC-V testbed</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Getting started" />
<meta name="author" content="EPCC RISC-V testbed team" />
<meta property="og:locale" content="en_GB" />
<meta name="description" content="This section describes how to access both the command line and GUI of the testbed system front-end." />
<meta property="og:description" content="This section describes how to access both the command line and GUI of the testbed system front-end." />
<link rel="canonical" href="http://localhost:4000/documentation/getting_started/" />
<meta property="og:url" content="http://localhost:4000/documentation/getting_started/" />
<meta property="og:site_name" content="ExCALIBUR H&amp;ES RISC-V testbed" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-04-23T21:55:36+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Getting started" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@EPCC RISC-V testbed team" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"EPCC RISC-V testbed team"},"dateModified":"2024-04-23T21:55:36+01:00","datePublished":"2024-04-23T21:55:36+01:00","description":"This section describes how to access both the command line and GUI of the testbed system front-end.","headline":"Getting started","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/documentation/getting_started/"},"url":"http://localhost:4000/documentation/getting_started/"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/default.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Play:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="ExCALIBUR H&amp;ES RISC-V testbed" href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  getting-started">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/community/">Community</a></li><li><a href="/status/">Status</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">ExCALIBUR H&ES RISC-V testbed</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">A RISC-V test environment for scientific and data-science codes</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Getting started
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><img src="/images/epcc-logo.png" class="author-avatar u-photo" alt="EPCC RISC-V testbed team"><div class="author-info"><div class="author-name">
        <span class="p-name">EPCC RISC-V testbed team</span>
      </div><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href=""><i class="fas fa-link fa-lg" title=""></i></a>
          </li></ul>
    <time class="page-date dt-published" datetime="2024-04-23T21:55:36+01:00"><a class="u-url" href="">April 23, 2024</a>
</time>

  </div>
</div>

        

        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p>This section describes how to access both the command line and GUI of the testbed system front-end.</p>

<p>The testbed contains a front-end node <em>riscv-login</em> containing a 26-core Skylake Xeon Platinum CPU with 256GB RAM. The system drive is a 1TB SSD, and files are stored on 4TB of HDD RAID10 storage. Users can build their code on the front-end node, and they can be run on the RISC-V backend nodes (for details on submitting jobs, see <a href="/documentation/running_riscv/">here</a>)</p>

<h3 id="command-line-access">Command line access</h3>

<p>The testbed system is only accessible via the <em>hydra-vpn</em> proxy host, and in the previous <em>applying for access</em> step you will have signed up for accounts on both <em>hydra-vpn</em> and <em>riscv-login</em>. To access the testbed you need to therefore first ssh to <em>hydra-vpn</em> via <code class="language-plaintext highlighter-rouge">ssh username@hydra-vpn.epcc.ed.ac.uk</code> , the first time that you access this you will need to use the password automatically allocated via the SAFE system (it can be retrieved via SAFE) and will be prompted to change this.</p>

<p>Once you have logged into hydra-vpn then you can access the testbed login node via <code class="language-plaintext highlighter-rouge">ssh username@riscv-login</code> . The workflow is illustrated below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">username@localhost:~$</span><span class="w"> </span>ssh username@hydra-vpn.epcc.ed.ac.uk
<span class="gp">[username@hydra-vpn ~]$</span><span class="w"> </span>ssh username@riscv-login
<span class="gp">[username@riscv-login ~]$</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p><strong>ADVICE:</strong><br />
It is possible to automate the proxy step by setting this up in your ssh .config file as a proxyjump</p>
</blockquote>

<h3 id="desktop-access">Desktop access</h3>

<p><img src="/images/x2go_settings.png" width="450" height="450" align="right" /></p>

<p>The lightweight XFCE desktop is installed on the front-end of the testbed system, which is especially useful for programming FPGAs as much of the tooling has a graphical component to it. The front-end is also running X2GO which tends to provide much better performance than vanilla X forwarding. Therefore we strongly suggest accessing the desktop via X2GO, with users just needing to install the client program which is available <a href="https://wiki.x2go.org/doku.php/download:start">here</a>.</p>

<p>Once the client is installed, create a new profile with settings matching those as illustrated below (assuming that you use the same username and password for both <em>hydra-vpn</em> and the <em>riscv-login</em> node.</p>

<blockquote>
  <p><strong>NOTE:</strong><br />
Whilst it is possible to run the individual graphical tools directly via X2GO, we suggest doing this via the XFCE desktop environment as find that this provides a much better user experience.</p>
</blockquote>

<h2 id="risc-v-compilers-and-libraries">RISC-V compilers and libraries</h2>

<p>RISC-V compilers are available on the module environment:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash-4.2$ module avail
...
------------------- /usr/local/share/riscv-compiler/modulefiles --------------------
   riscv32-linux/gnu-12.2       riscv64-linux/gnu-9.2-rvv     riscv64-linux/llvm-15.0
   riscv32-newlib/gnu-12.2      riscv64-linux/gnu-10.2-rvv    riscv64-linux/llvm-16.0 
   riscv64-linux/gnu-8.4-rvv    riscv64-linux/gnu-12.2        riscv64-newlib/gnu-12.2
</code></pre></div></div>

<p>The modules correspond to the following compiler configurations:</p>

<table>
  <thead>
    <tr>
      <th>Module</th>
      <th>Compiler</th>
      <th>Version</th>
      <th>Library</th>
      <th>Bit</th>
      <th>ISA</th>
      <th>ABI</th>
      <th>Prefix</th>
      <th>Source</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv32-linux/gnu-12.2</code></td>
      <td>GNU</td>
      <td>12.2.0</td>
      <td>glibc (Linux)</td>
      <td>32</td>
      <td>RV32GC</td>
      <td>ilp32d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv32-unknown-linux-gnu-</code></td>
      <td><a href="https://github.com/riscv-collab/riscv-gnu-toolchain">RISC-V GNU Toolchain</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-12.2</code></td>
      <td>GNU</td>
      <td>12.2.0</td>
      <td>glibc (Linux)</td>
      <td>64</td>
      <td>RV64GC</td>
      <td>lp64d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv64-unknown-linux-gnu-</code></td>
      <td><a href="https://github.com/riscv-collab/riscv-gnu-toolchain">RISC-V GNU Toolchain</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv32-newlib/gnu-12.2</code></td>
      <td>GNU</td>
      <td>12.2.0</td>
      <td>Newlib</td>
      <td>32</td>
      <td>RV32GC</td>
      <td>ilp32d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv32-unknown-elf-gnu-</code></td>
      <td><a href="https://github.com/riscv-collab/riscv-gnu-toolchain">RISC-V GNU Toolchain</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-newlib/gnu-12.2</code></td>
      <td>GNU</td>
      <td>12.2.0</td>
      <td>Newlib</td>
      <td>64</td>
      <td>RV64GC</td>
      <td>lp64d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv64-unknown-elf-gnu-</code></td>
      <td><a href="https://github.com/riscv-collab/riscv-gnu-toolchain">RISC-V GNU Toolchain</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-8.4-rvv</code></td>
      <td>GNU</td>
      <td>8.4</td>
      <td>glibc (Linux)</td>
      <td>64</td>
      <td>RV64GC + V (0.7.1)</td>
      <td>lp64d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv64-unknown-linux-gnu-</code></td>
      <td><a href="https://datashare.ed.ac.uk/handle/10283/4835">XuanTie GNU Toolchain 20210618</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-9.2-rvv</code></td>
      <td>GNU</td>
      <td>9.2</td>
      <td>glibc (Linux)</td>
      <td>64</td>
      <td>RV64GC + V (0.7.1)</td>
      <td>lp64d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv64-unknown-linux-gnu-</code></td>
      <td><a href="https://github.com/brucehoult/riscv-gnu-toolchain/tree/rvv-0.7.1">RISC-V GNU Toolchain: rvv-0.7.1</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-10.2-rvv</code></td>
      <td>GNU</td>
      <td>10.2</td>
      <td>glibc (Linux)</td>
      <td>64</td>
      <td>RV64GC + V (0.7.1/1.0)</td>
      <td>lp64d</td>
      <td><code class="language-plaintext highlighter-rouge">riscv64-unknown-linux-gnu-</code></td>
      <td><a href="https://datashare.ed.ac.uk/handle/10283/4835">XuanTie GNU Toolchain V2.6.1 20220906</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-linux/llvm-15.0</code></td>
      <td>LLVM</td>
      <td>15.0</td>
      <td>glibc (Linux)</td>
      <td>64</td>
      <td>RV64GC + V (1.0)</td>
      <td>lp64d</td>
      <td>N/A</td>
      <td><a href="https://github.com/riscv-collab/riscv-gnu-toolchain/pull/1166">LLVM</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">riscv64-linux/llvm-16.0</code></td>
      <td>LLVM</td>
      <td>16.0</td>
      <td>glibc (Linux)</td>
      <td>64</td>
      <td>RV64GC + V (1.0)</td>
      <td>lp64d</td>
      <td>N/A</td>
      <td><a href="https://github.com/riscv-collab/riscv-gnu-toolchain/pull/1166">LLVM</a></td>
    </tr>
  </tbody>
</table>

<p>Once a compiler module is loaded (e.g. via <code class="language-plaintext highlighter-rouge">module load riscv64-linux/gnu-12.2</code> or <code class="language-plaintext highlighter-rouge">module load riscv64-linux/llvm-16.0</code>), the compilers and associated tools can be called with the prefix above for GNU (e.g. <code class="language-plaintext highlighter-rouge">riscv64-unknown-linux-gnu-gcc</code>) and without prefix (e.g <code class="language-plaintext highlighter-rouge">clang</code>) for LLVM.</p>

<p>For details of what tools are included in the toolchains, see <a href="/issues/toolchains+debugging/">Toolchains &amp; Cross-debugging</a>. For more instructions on compiling with the V vector extension, see <a href="/issues/compiling-vector/">V vector extension</a>.</p>

<h3 id="libraries">Libraries</h3>

<p>RISC-V libraries are also available in the module environment.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">bash-4.2$</span><span class="w"> </span>module avail
<span class="c">...
</span><span class="go">---------------------- /usr/local/share/riscv-software/modulefiles ----------------------
   fftw/3.3.10_gcc12.2_double/fftw-double
   fftw/3.3.10_gcc12.2_single/fftw-single
   hdf5/1.14.0_gcc12.2
   netcdf/4.x_gcc12.2
   openblas/0.3.21_C910V_gcc10.2
   openblas/0.3.21_riscv64_generic_gcc12.2 
   openmpi/4.1.4_gcc12.2
   petsc/3.18.4_debug
   petsc/3.18.4_release                    
</span></code></pre></div></div>

<p>To inspect the list of modules set in the user environment, run <code class="language-plaintext highlighter-rouge">module list</code>. More general details about the module environment can be found <a href="https://linux.die.net/man/1/module">here</a>.</p>

<p>Note: all libraries are compiled using <code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-12.2</code>, except for <code class="language-plaintext highlighter-rouge">openblas/0.3.21_C910V_gcc10.2</code> which has been compiled using <a href="https://datashare.ed.ac.uk/handle/10283/4835">XuanTie GNU Toolchain V2.6.0 20220715</a>.</p>

<h3 id="compiling-with-mpi">Compiling with MPI</h3>

<p>To use the OpenMPI compiler wrappers (e.g. <code class="language-plaintext highlighter-rouge">mpicc</code>) on <em>riscv-login</em>, first load the <code class="language-plaintext highlighter-rouge">openmpi/4.1.4_gcc12.2</code> and <code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-12.2</code> compiler module. Then the wrapper can be used along with the QEMU simulator included in <code class="language-plaintext highlighter-rouge">riscv64-linux/gnu-12.2</code>,</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">bash-4.2$</span><span class="w"> </span>qemu-riscv64 /usr/local/share/riscv-software/openmpi4.1.4_gcc12.2/build/bin/mpicc <span class="o">[</span>helloworld.c]
</code></pre></div></div>

<p>If you prefer to link the OpenMPI libraries manually, they can be found in</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MPdir        = /usr/local/share/riscv-software/openmpi4.1.4_gcc12.2/build
MPinc        = -I$(MPdir)/include
MPlib        = $(MPdir)/lib/libmpi.a $(MPdir)/lib/libompitrace.a $(MPdir)/lib/libopen-rte.a  $(MPdir)/lib/libopen-pal.a -ldl
</code></pre></div></div>

        </div>

        

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/documentation/first_vector_prog/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> My First Vector Program

      </span>
    </a>
  

  
    <a class="page-next" href="/documentation/hardware/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Testbed hardware
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>Copyright © 2022 EPCC, University of Edinburgh. <br />This testbed is funded by the ExCALIBUR H&amp;ES programme<br /> <br />Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.<br />Icons made by <a href="https://www.flaticon.com/authors/alkhalifi-design" title="alkhalifi design">alkhalifi design</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></p>

    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


  </body>

</html>
